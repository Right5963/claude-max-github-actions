# 日本語文字化け原因調査 - 圧縮仮説

## 発見された事実

### 1. 圧縮設定確認
- **Windows圧縮**: DisableCompression = 0 (圧縮有効)
- **影響**: WSL→Windows転送時に自動圧縮が発生している可能性

### 2. 文字化けパターン分析
```
正常: 日本語テスト
破損: ���{��e�X�g
```
この破損パターンは典型的な**圧縮・展開時の文字化け**

### 3. 圧縮原因の可能性

#### A. WSL-Windows間データ転送での圧縮
- PowerShellのSet-Content実行時
- 日本語文字がマルチバイト→圧縮→展開→破損

#### B. Gドライブの圧縮属性
- Google Drive for Desktopの圧縮設定
- クラウド同期時の圧縮処理

#### C. PowerShellの内部圧縮
- Set-Content -Encoding UTF8での内部処理
- WSLからの引数渡し時の圧縮

### 4. これまで動作していた理由
- **Python直接書き込み**: 圧縮プロセスを回避
- **手動PowerShell**: 圧縮設定が異なる
- **別の時期**: 圧縮設定が変更された可能性

### 5. 検証すべき点
1. 圧縮を無効にしてテスト
2. 別のエンコーディング方法でテスト
3. Python経由での書き込み確認
4. Gドライブの圧縮属性確認

### 6. 対策案
1. **圧縮無効化**: PowerShellコマンドで圧縮を明示的に無効
2. **直接書き込み**: Python等での直接ファイル操作
3. **エンコード変更**: 別のエンコーディング方式

---
調査日時: 2025-06-04 19:50
仮説: **圧縮が日本語文字化けの主原因**